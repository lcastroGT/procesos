<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Pruebas Canvas</title>
    <link rel="stylesheet" href="css/bootstrap.css">
    <style>
    #titulo{
        padding-left:40%;
    }
    #process{
        width:100%;
        height:260px;
    }
    #grafica-memoria{
        position:absolute;
        left:10%;
        top:120px;
        width:80%;
        height:30px;
        border: solid 1px;
    }
    .panel-default{
        margin:150px 20px 20px 20px;
        position:relative;
    }
    
    </style>
</head>
<body>
    <div class="container">
    <div class="page-header">
        <h1>Simulador de procesos<small> Ingenieria en Sistemas</small></h1>
    </div>
    <div class="row">
        <div class="col-sm-4 col-md-4">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Propiedades</h3>
                </div>
            <div class="panel-body">
                <label for="memory">Tama√±o Total de Memoria</label>
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Size memory" id="memory">
                    <span class="input-group-addon">Mb</span>
                </div>
                <hr>
                <input type="text" class="form-control" placeholder="Cantidad de procesos" id="procesos"><br>
                <button class="btn btn-info btn-block" onclick="cargar_proceso();" >Cargar</button>
            </div>
        </div>
        </div>
        <div class="col-sm-6 col-md-6">
            <div class="panel panel-primary" id="process">
                <div class="panel-heading">
                    <h3 class="panel-title">Memoria Principal</h3>
                </div>
                <div class="panel-body">
                    <div id="info_process"></div>
                    <div id="grafica-memoria"></div>
                </div>
            </div>
        </div>
        <div class="col-sm-2 col-md-2">
           <b>Resumen de proceso</b>
        </div>
    </div>
    <div class="alert alert-info">El tamano del proceso se crea automaticamente, pudiendo tener como maximo el 50% del tamano de la memoria</div>
    </div>
    
    <!-- Manipular el objeto Canvas -->    
    <script type="text/javascript">
        
        var proceso = 0;
        var memoria_principal = 0;
        
        function cargar_proceso(){
            proceso=0;
            memoria_principal = document.getElementById('memory').value
            var num_p = document.getElementById('procesos').value;
            
            for (var i=1;i<=num_p;i++){
                crear_proceso(document.getElementById('memory').value); 
                proceso++;
            }
            
        }
        var ancho_inicial=0;
        function crear_proceso(){
            var size_p=Math.floor(Math.random() * ((memoria_principal/2)-1+1));
            var ancho=((size_p/memoria_principal)*0.8)*100+"%";
            document.getElementById("info_process").innerHTML=size_p;
            
        }
    </script>
</body>
</html>