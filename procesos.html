<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Pruebas Canvas</title>
    <link rel="stylesheet" href="css/bootstrap.css">
    <style>
    #titulo{
        padding-left:40%;
    }
    #process{
        border:solid 1px;
        width:100%;
        height:260px;
    }
    #memoria{
        left:10%;
        top:80px;
        position:absolute;
        width:80%;
        height:30px;
        border: solid 1px;
    }
    .panel-default{
        margin:150px 20px 20px 20px;
        position:relative;
    }
    
    </style>
</head>
<body>
    <div class="container">
    <div class="page-header">
        <h1>Simulador de procesos<small> Ingenieria en Sistemas</small></h1>
    </div>
    <div class="row">
        <div class="col-sm-4 col-md-4">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Propiedades</h3>
                </div>
            <div class="panel-body">
                <label for="memory">Tama√±o Total de Memoria</label>
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Size memory" id="memory">
                    <span class="input-group-addon">Mb</span>
                </div>
                <hr>
                <input type="text" class="form-control" placeholder="Cantidad de procesos" id="procesos"><br>
                <button class="btn btn-info btn-block" onclick="cargar_proceso();" >Cargar</button>
            </div>
        </div>
        </div>
        <div class="col-sm-8 col-md-8">
            <div id="process">
                <br><strong><p id="titulo">Memoria principal</p></strong>
                <div id="memoria"></div>
                
                <div class="panel panel-default">
                    <div class="panel-body">
                        Basic panel example
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="alert alert-info">El tamano del proceso se crea automaticamente, pudiendo tener como maximo el 50% del tamano de la memoria</div>
    </div>
    
    <!-- Manipular el objeto Canvas -->    
    <script type="text/javascript">
        
        var proceso = 0;
        
        function cargar_proceso(){
            proceso=0;
            var num_p = document.getElementById('procesos').value;
            
            for (var i=1;i<=num_p;i++){
                crear_proceso(document.getElementById('memory').value); 
                proceso++;
            }
            
        }
        function crear_proceso(memoria){
            var size_p=Math.floor(Math.random() * ((memoria/2)-1+1));
            var ancho=((size_p/memoria)*0.8)*100+"%";
            document.getElementById("memoria").innerHTML+="<div id='p"+proceso+"'></div>"
            document.getElementById("p"+proceso).style.width=ancho;
            document.getElementById("p"+proceso).style.height="30px";
            
        
        }
    </script>
</body>
</html>